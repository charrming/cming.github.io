<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>下雪啦~</title>
    <link rel="stylesheet" href="css/swiper.min.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/swiper.min.js"></script>
    <script>
        resize();
        window.onresize = resize;
        function resize() {
          document.documentElement.style.fontSize = document.documentElement.clientWidth / 750 * 100 + 'px';  
        };    
    </script>
    <style>
        body {
            background: #eee;
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 14px;
            color:#000;
            margin: 0;
            padding: 0;
        }
	.swiper-wrapper1{
    transition-delay:.3s;
    }
    .swiper-container {
        width: 100%;
        height: 100vh;
    }
    .swiper-slide2 {
        text-align: center;
        font-size: 18px;
        background: #fff;
        
        /* Center slide text vertically */
        display: -webkit-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-box-pack: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
    }
	.swiper-slide2:nth-child(2){
		background:#fff;
		color:#000;
    }
    .swiper-slide2:nth-child(3){
        background:#111;
        color:#fff;
    }
    .swiper-slide2:nth-child(4){
        background:yellow;
        color:#000;
    }
    .swiper-slide2:nth-child(5){
        background:pink;
        color:#fff;
    }
	.swiper-slide2 .page{
		transform:translateX(-200px);
		opacity:0;
		transition:all .4s;
    }
	.ani-slide1 .page{
		transform:translateX(0);
		opacity:1;
	}
    .swiper-slide2 .page2{
        transform:translateY(-200px);
        opacity:0;
        transition:all .4s;
    }
    .ani-slide1 .page2{
        transform:translateY(0);
        opacity:1;
    }



    .swiper-container1 {
      width: 100%;
      padding-top: 50px;
      padding-bottom: 50px;
    }
    .swiper-slide1 {
      background-position: center;
      background-size: cover;
      width: 300px;
      height: 300px;
    }       
    </style>
</head>
<body>
    <!-- Swiper -->
    <div class="swiper-container swiper-container-vertical">
        <div class="swiper-wrapper swiper-wrapper1">
            <!-- page1 -->
            <div class="swiper-slide swiper-slide2 swiper-slide-active ani-slide1">
                <div class="page">
                     <div style="font-size:0.5rem;letter-spacing:3px;">
                        我们恋爱<span id="date" style="font-size:1rem;color:pink;"></span>天啦 ！
                    </div>                     
                </div>              
            </div>
            <!-- page2 -->
            <div class="swiper-slide swiper-slide2 swiper-slide-next">
              <!-- Swiper -->
              <div class="page2 swiper-container1 swiper-container-coverflow swiper-container-3d swiper-container-horizontal swiper-container-android">
                <p style="margin-bottom: 5px;font-size:0.7rem;color:pink;">看我偷到了什么~</p>
                <div class="swiper-wrapper" style="transition-duration: 0ms; transform: translate3d(-890px, 0px, 0px); perspective-origin: 1050px 50%;">
                        <div class="swiper-slide swiper-slide1" style="background-image: url(images/1.jpg);background-size: contain;background-repeat: no-repeat;transition-duration: 0ms; transform: translate3d(0px, 0px, -300px) rotateX(0deg) rotateY(150deg); z-index: -2;"><div class="swiper-slide-shadow-left" style="opacity: 3; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 0; transition-duration: 0ms;"></div></div>
                        <div class="swiper-slide swiper-slide1" style="background-image: url(images/2.jpg);background-size: contain;background-repeat: no-repeat; transition-duration: 0ms; transform: translate3d(0px, 0px, -200px) rotateX(0deg) rotateY(100deg); z-index: -1;"><div class="swiper-slide-shadow-left" style="opacity: 2; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 0; transition-duration: 0ms;"></div></div>
                        <div class="swiper-slide swiper-slide1 swiper-slide-prev" style="background-image: url(images/3.jpg);background-size: contain;background-repeat: no-repeat; transition-duration: 0ms; transform: translate3d(0px, 0px, -100px) rotateX(0deg) rotateY(50deg); z-index: 0;"><div class="swiper-slide-shadow-left" style="opacity: 1; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 0; transition-duration: 0ms;"></div></div>
                        <div class="swiper-slide swiper-slide1 swiper-slide-active" style="background-image: url(images/4.jpg);background-size: contain;background-repeat: no-repeat; transition-duration: 0ms; transform: translate3d(0px, 0px, 0px) rotateX(0deg) rotateY(0deg); z-index: 1;"><div class="swiper-slide-shadow-left" style="opacity: 0; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 0; transition-duration: 0ms;"></div></div>
                        <div class="swiper-slide swiper-slide1 swiper-slide-next" style="background-image: url(images/5.jpg);background-size: contain;background-repeat: no-repeat; transition-duration: 0ms; transform: translate3d(0px, 0px, -100px) rotateX(0deg) rotateY(-50deg); z-index: 0;"><div class="swiper-slide-shadow-left" style="opacity: 0; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 1; transition-duration: 0ms;"></div></div>
                        <div class="swiper-slide swiper-slide1" style="background-image: url(images/6.jpg);background-size: contain;background-repeat: no-repeat; transition-duration: 0ms; transform: translate3d(0px, 0px, -200px) rotateX(0deg) rotateY(-100deg); z-index: -1;"><div class="swiper-slide-shadow-left" style="opacity: 0; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 2; transition-duration: 0ms;"></div></div>
                        <div class="swiper-slide swiper-slide1" style="background-image: url(images/7.jpg);background-size: contain;background-repeat: no-repeat; transition-duration: 0ms; transform: translate3d(0px, 0px, -300px) rotateX(0deg) rotateY(-150deg); z-index: -2;"><div class="swiper-slide-shadow-left" style="opacity: 0; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 3; transition-duration: 0ms;"></div></div>
                        <div class="swiper-slide swiper-slide1" style="background-image: url(images/8.jpg);background-size: contain;background-repeat: no-repeat; transition-duration: 0ms; transform: translate3d(0px, 0px, -400px) rotateX(0deg) rotateY(-200deg); z-index: -3;"><div class="swiper-slide-shadow-left" style="opacity: 0; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 4; transition-duration: 0ms;"></div></div>
                        <div class="swiper-slide swiper-slide1" style="background-image: url(images/9.jpg);background-size: contain;background-repeat: no-repeat; transition-duration: 0ms; transform: translate3d(0px, 0px, -500px) rotateX(0deg) rotateY(-250deg); z-index: -4;"><div class="swiper-slide-shadow-left" style="opacity: 0; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 5; transition-duration: 0ms;"></div></div>
                        <div class="swiper-slide swiper-slide1" style="background-image: url(images/10.jpg);background-size: contain;background-repeat: no-repeat; transition-duration: 0ms; transform: translate3d(0px, 0px, -600px) rotateX(0deg) rotateY(-300deg); z-index: -5;"><div class="swiper-slide-shadow-left" style="opacity: 0; transition-duration: 0ms;"></div><div class="swiper-slide-shadow-right" style="opacity: 6; transition-duration: 0ms;"></div></div>
                </div>
                <!-- Add Pagination -->
                <div class="swiper-pagination1 swiper-pagination-bullets"><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet swiper-pagination-bullet-active"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span></div>
              <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>               
            </div>
            <!-- page3 -->
            <div class="swiper-slide swiper-slide2">
                <canvas id="world" width="980" height="2484"></canvas>
            </div>
            <div class="swiper-slide swiper-slide2"><p>Slide 4</p></div>
            <div class="swiper-slide swiper-slide2"><p>Slide 5</p></div>
        </div>
<!--         <div class="swiper-pagination swiper-pagination-bullets"><span class="swiper-pagination-bullet swiper-pagination-bullet-active"></span><span class="swiper-pagination-bullet"></span><span class="swiper-pagination-bullet"></span></div> --> 
    <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>
</body>


<script>
    (function() {
      var COLORS, Confetti, NUM_CONFETTI, PI_2, canvas, confetti, context, drawCircle, i, range, resizeWindow, xpos;

      NUM_CONFETTI = 350;

      COLORS = [[85, 71, 106], [174, 61, 99], [219, 56, 83], [244, 92, 68], [248, 182, 70]];

      PI_2 = 2 * Math.PI;

      canvas = document.getElementById("world");

      context = canvas.getContext("2d");

      window.w = 0;

      window.h = 0;

      resizeWindow = function() {
        window.w = canvas.width = window.innerWidth;
        return window.h = canvas.height = window.innerHeight;
      };

      window.addEventListener('resize', resizeWindow, false);

      window.onload = function() {
        return setTimeout(resizeWindow, 0);
      };

      range = function(a, b) {
        return (b - a) * Math.random() + a;
      };

      drawCircle = function(x, y, r, style) {
        context.beginPath();
        context.arc(x, y, r, 0, PI_2, false);
        context.fillStyle = style;
        return context.fill();
      };

      xpos = 0.5;

      document.onmousemove = function(e) {
        return xpos = e.pageX / w;
      };

      window.requestAnimationFrame = (function() {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) {
          return window.setTimeout(callback, 1000 / 60);
        };
      })();

      Confetti = class Confetti {
        constructor() {
          this.style = COLORS[~~range(0, 5)];
          this.rgb = `rgba(${this.style[0]},${this.style[1]},${this.style[2]}`;
          this.r = ~~range(2, 6);
          this.r2 = 2 * this.r;
          this.replace();
        }

        replace() {
          this.opacity = 0;
          this.dop = 0.03 * range(1, 4);
          this.x = range(-this.r2, w - this.r2);
          this.y = range(-20, h - this.r2);
          this.xmax = w - this.r;
          this.ymax = h - this.r;
          this.vx = range(0, 2) + 8 * xpos - 5;
          return this.vy = 0.7 * this.r + range(-1, 1);
        }

        draw() {
          var ref;
          this.x += this.vx;
          this.y += this.vy;
          this.opacity += this.dop;
          if (this.opacity > 1) {
            this.opacity = 1;
            this.dop *= -1;
          }
          if (this.opacity < 0 || this.y > this.ymax) {
            this.replace();
          }
          if (!((0 < (ref = this.x) && ref < this.xmax))) {
            this.x = (this.x + this.xmax) % this.xmax;
          }
          return drawCircle(~~this.x, ~~this.y, this.r, `${this.rgb},${this.opacity})`);
        }

      };

      confetti = (function() {
        var j, ref, results;
        results = [];
        for (i = j = 1, ref = NUM_CONFETTI; (1 <= ref ? j <= ref : j >= ref); i = 1 <= ref ? ++j : --j) {
          results.push(new Confetti);
        }
        return results;
      })();

      window.step = function() {
        var c, j, len, results;
        requestAnimationFrame(step);
        context.clearRect(0, 0, w, h);
        results = [];
        for (j = 0, len = confetti.length; j < len; j++) {
          c = confetti[j];
          results.push(c.draw());
        }
        return results;
      };

      step();
    }).call(this);
</script>
<script>
    var swiper = new Swiper('.swiper-container',{
        direction : 'vertical',
        followFinger : false,
        speed:800,
        mousewheel: true,
        pagination : {
            el:'.swiper-pagination',
        },
        on:{
            init:function(swiper){
                slide=this.slides.eq(0);
                slide.addClass('ani-slide1');
            },
            transitionStart: function(){
                for(i=0;i<this.slides.length;i++){
                    slide=this.slides.eq(i);
                    slide.removeClass('ani-slide1');
                }
            },
            transitionEnd: function(){
                slide=this.slides.eq(this.activeIndex);
                slide.addClass('ani-slide1');
                
            },
        }
    });

    var swiper = new Swiper('.swiper-container1', {
      effect: 'coverflow',
      grabCursor: true,
      centeredSlides: true,
      slidesPerView: 'auto',
      coverflowEffect: {
        rotate: 50,
        stretch: 0,
        depth: 100,
        modifier: 1,
        slideShadows : true,
      },
      pagination: {
        el: '.swiper-pagination1',
      },
    });
    //计算天数
    var day1 = new Date("2019/2/25"); 
    var day2 = new Date();
    var date = Math.floor((day2-day1)/(1000 * 60 * 60 * 24));
    $('#date').html(date);    
</script>
</html>